{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["// список категорій\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://dummyjson.com';\n\nexport async function fetchCategories() {\n    const response = await axios.get('/products/category-list');\n    return response.data;\n}\n\nexport const fetchProducts = async (page = 1, limit = 12) => {\n  const skip = (page - 1) * limit;\n  const response = await axios.get(`/products`, {\n    params: { limit, skip }\n  });\n  return response.data.products;\n};\n\nexport const fetchProductsByCategory = async (category) => {\n  const response = await axios.get(`/products/category/${category}`);\n  return response.data.products;\n};\n\nexport const fetchProductById = async (id) => {\n  const response = await axios.get(`/products/${id}`);\n  return response.data;\n};","//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n  categoriesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n  notFoundMessage: document.querySelector('.not-found'),\n  modal: document.querySelector('.modal'),\n  modalContent: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n};","//Функцію для створення, рендеру або видалення розмітки\nimport { refs } from './refs';\n\nexport function renderCategoriesList(categories) {\n  const fullList = ['All', ...categories];\n\n  refs.categoriesList.innerHTML = fullList.map(category => `\n    <li class=\"categories__item\">\n      <button class=\"categories__btn\" type=\"button\">${category}</button>\n    </li>\n  `).join('');\n}\n\nexport function renderProductsList(products) {\n  const markup = products.map(product => `\n    <li class=\"products__item\" data-id=\"${product.id}\">\n      <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.title}\" />\n      <p class=\"products__title\">${product.title}</p>\n      <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span> ${product.brand}</p>\n      <p class=\"products__category\">Category: ${product.category}</p>\n      <p class=\"products__price\">Price: $${product.price}</p>\n    </li>\n  `).join('');\n\n  refs.productsList.innerHTML = markup;\n}\n\nexport function renderModalProduct(product) {\n  refs.modalContent.innerHTML = `\n    <img class=\"modal-product__img\" src=\"${product.thumbnail}\" alt=\"${product.title}\" />\n    <div class=\"modal-product__content\">\n      <p class=\"modal-product__title\">${product.title}</p>\n      <ul class=\"modal-product__tags\">\n        ${product.tags?.map(tag => `<li>#${tag}</li>`).join('') || ''}\n      </ul>\n      <p class=\"modal-product__description\">${product.description}</p>\n      <p class=\"modal-product__shipping-information\">Shipping: Free Worldwide</p>\n      <p class=\"modal-product__return-policy\">Return Policy: 30 days</p>\n      <p class=\"modal-product__price\">Price: $${product.price}</p>\n      <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n    </div>\n  `;\n}","//Логіка сторінки Home\nimport {\n  fetchCategories,\n  fetchProducts,\n  fetchProductsByCategory,\n  fetchProductById\n} from './js/products-api.js';\n\nimport {\n  renderCategoriesList,\n  renderProductsList,\n  renderModalProduct\n} from './js/render-function.js';\n\nimport { refs } from './js/refs.js';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const categories = await fetchCategories();\n  renderCategoriesList(categories);\n  const products = await fetchProducts(1);\n  renderProductsList(products);\n});\n\n// 3. Реалізуй делегування на списку ul.categories\n\nrefs.categoriesList.addEventListener('click', async (event) => {\n  const btn = event.target.closest('.categories__btn');\n  if (!btn) return;\n\n  const category = btn.textContent.trim();\n  const buttons = refs.categoriesList.querySelectorAll('.categories__btn');\n\n  \n  buttons.forEach(button => button.classList.remove('categories__btn--active'));\n  \n  btn.classList.add('categories__btn--active');\n\n  try {\n    refs.notFoundMessage.classList.remove('not-found--visible');\n\n    let products = [];\n\n    if (category.toLowerCase() === 'all') {\n      products = await fetchProducts(1);\n    } else {\n      products = await fetchProductsByCategory(category);\n    }\n\n    if (products.length === 0) {\n      refs.productsList.innerHTML = '';\n      refs.notFoundMessage.classList.add('not-found--visible');\n    } else {\n      renderProductsList(products.slice(0, 12));\n    }\n  } catch (error) {\n    console.error('Помилка при фільтрації категорії:', error);\n  }\n});\n\n// 4. Реалізуй делегування на списку ul.products.\n\nrefs.productsList.addEventListener('click', async (e) => {\n  const productItem = e.target.closest('.products__item');\n  if (!productItem) return;\n\n  const id = productItem.dataset.id;\n  try {\n    const product = await fetchProductById(id);\n    renderModalProduct(product);\n    refs.modal.classList.add('modal--is-open');\n  } catch (err) {\n    console.error('Помилка при відкритті модального вікна:', err);\n  }\n});\n\nrefs.modalCloseBtn.addEventListener('click', () => {\n  refs.modal.classList.remove('modal--is-open');\n});"],"names":["axios","fetchCategories","fetchProducts","page","limit","skip","fetchProductsByCategory","category","fetchProductById","id","refs","renderCategoriesList","categories","fullList","renderProductsList","products","markup","product","renderModalProduct","_a","tag","event","btn","button","error","e","productItem","err"],"mappings":"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"}